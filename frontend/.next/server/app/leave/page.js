(()=>{var e={};e.id=552,e.ids=[552],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},2542:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>o}),a(5305),a(6724),a(5866);var s=a(3191),r=a(8716),n=a(7922),l=a.n(n),i=a(5231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);a.d(t,c);let o=["",{children:["leave",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,5305)),"F:\\Hackathon\\human_resource_management_system\\frontend\\app\\leave\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,6724)),"F:\\Hackathon\\human_resource_management_system\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],d=["F:\\Hackathon\\human_resource_management_system\\frontend\\app\\leave\\page.tsx"],m="/leave/page",u={require:a,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/leave/page",pathname:"/leave",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},2817:(e,t,a)=>{Promise.resolve().then(a.bind(a,5468))},7942:(e,t,a)=>{Promise.resolve().then(a.bind(a,6361))},465:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},5468:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var s=a(326),r=a(9965),n=a(7577),l=a(305);function i(){let[e,t]=(0,n.useState)([]),[a,i]=(0,n.useState)(null),[c,o]=(0,n.useState)(!0),[d,m]=(0,n.useState)(!1),u=async()=>{try{let e=await l.a8.getMyLeaves();t(e.data)}catch(e){console.error("Failed to fetch leaves",e)}},p=async e=>{e.preventDefault();let t=new FormData(e.currentTarget);try{await l.a8.apply({leaveType:t.get("leaveType"),startDate:new Date(t.get("startDate")),endDate:new Date(t.get("endDate")),reason:t.get("reason")}),m(!1),u()}catch(e){console.error("Failed to apply for leave",e)}};return s.jsx(r.Z,{children:(0,s.jsxs)("div",{className:"space-y-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Leave Management"}),!c&&a&&(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"card",children:[s.jsx("p",{className:"text-gray-600",children:"Paid Leave Used"}),s.jsx("p",{className:"text-3xl font-bold",children:a.paidLeaveUsed}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Remaining: ",a.paidLeaveRemaining]})]}),(0,s.jsxs)("div",{className:"card",children:[s.jsx("p",{className:"text-gray-600",children:"Sick Leave Used"}),s.jsx("p",{className:"text-3xl font-bold",children:a.sickLeaveUsed}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Remaining: ",a.sickLeaveRemaining]})]})]}),s.jsx("button",{onClick:()=>m(!d),className:"btn-primary",children:d?"Cancel":"Apply for Leave"}),d&&(0,s.jsxs)("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Apply for Leave"}),(0,s.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"form-label",children:"Leave Type"}),(0,s.jsxs)("select",{name:"leaveType",className:"form-input","aria-label":"Leave Type",required:!0,children:[s.jsx("option",{value:"paid",children:"Paid Leave"}),s.jsx("option",{value:"sick",children:"Sick Leave"}),s.jsx("option",{value:"unpaid",children:"Unpaid Leave"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"form-label",children:"Start Date"}),s.jsx("input",{type:"date",name:"startDate",className:"form-input","aria-label":"Start Date",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"form-label",children:"End Date"}),s.jsx("input",{type:"date",name:"endDate",className:"form-input","aria-label":"End Date",required:!0})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"form-label",children:"Reason"}),s.jsx("textarea",{name:"reason",className:"form-input","aria-label":"Reason for Leave",required:!0})]}),s.jsx("button",{type:"submit",className:"btn-primary",children:"Submit Leave Request"})]})]}),(0,s.jsxs)("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Your Leave Requests"}),s.jsx("div",{className:"space-y-3",children:e.map(e=>s.jsx("div",{className:"border p-4 rounded",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-bold",children:e.leaveType}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[new Date(e.startDate).toLocaleDateString()," -"," ",new Date(e.endDate).toLocaleDateString()]}),s.jsx("p",{className:"text-sm",children:e.reason})]}),s.jsx("span",{className:`px-3 py-1 rounded text-sm ${"approved"===e.status?"bg-green-100 text-green-800":"rejected"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:e.status})]})},e._id))})]})]})})}},6361:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var s=a(326),r=a(434),n=a(5047),l=a(6205);function i(){let e=(0,n.useRouter)(),{user:t,logout:a}=(0,l.t)();return s.jsx("nav",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between h-16",children:[s.jsx("div",{className:"flex items-center",children:s.jsx(r.default,{href:"/",className:"text-2xl font-bold text-blue-600",children:"\uD83C\uDFAF Human Resource Management System"})}),s.jsx("div",{className:"flex items-center space-x-8",children:t&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(r.default,{href:"/dashboard",className:"hover:text-blue-600",children:"Dashboard"}),s.jsx(r.default,{href:"/attendance",className:"hover:text-blue-600",children:"Attendance"}),s.jsx(r.default,{href:"/leave",className:"hover:text-blue-600",children:"Leave"}),s.jsx(r.default,{href:"/payroll",className:"hover:text-blue-600",children:"Payroll"}),("admin"===t.role||"hr"===t.role)&&s.jsx(r.default,{href:"/admin",className:"hover:text-blue-600",children:"Admin Panel"})]})}),s.jsx("div",{className:"flex items-center space-x-4",children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{className:"text-sm",children:[t.firstName," ",t.lastName]}),s.jsx("button",{onClick:()=>{a(),e.push("/login")},className:"btn-primary",children:"Logout"})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(r.default,{href:"/login",className:"btn-secondary",children:"Login"}),s.jsx(r.default,{href:"/signup",className:"btn-primary",children:"Sign Up"})]})})]})})})}},9965:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var s=a(326);a(7577);var r=a(5047),n=a(6205);function l({children:e}){(0,r.useRouter)();let{isAuthenticated:t}=(0,n.t)();return t?s.jsx(s.Fragment,{children:e}):s.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."})}},305:(e,t,a)=>{"use strict";a.d(t,{TG:()=>l,kv:()=>r,tV:()=>n,a8:()=>i});let s=a(4464).Z.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>e,e=>Promise.reject(e)),s.interceptors.response.use(e=>e.data,e=>(e.response?.status===401&&localStorage.removeItem("token"),Promise.reject(e.response?.data||e)));let r={signup:e=>s.post("/auth/signup",e),signin:(e,t)=>s.post("/auth/signin",{email:e,password:t}),verifyEmail:e=>s.post("/auth/verify-email",{token:e}),refreshToken:()=>s.post("/auth/refresh")},n={getAll:(e,t)=>s.get("/employees",{params:{page:e,limit:t}}),getById:e=>s.get(`/employees/${e}`),getMyProfile:()=>s.get("/employees/profile/me"),updateMyProfile:e=>s.put("/employees/profile/me",e),update:(e,t)=>s.put(`/employees/${e}`,t),delete:e=>s.delete(`/employees/${e}`),search:e=>s.get("/employees/search",{params:{query:e}})},l={checkIn:()=>s.post("/attendance/check-in"),checkOut:()=>s.post("/attendance/check-out"),getMyAttendance:(e,t)=>s.get("/attendance/my-attendance",{params:{startDate:e,endDate:t}}),getEmployeeAttendance:(e,t,a)=>s.get(`/attendance/${e}`,{params:{startDate:t,endDate:a}}),getAll:(e,t)=>s.get("/attendance/all",{params:{startDate:e,endDate:t}}),mark:(e,t)=>s.post(`/attendance/${e}`,t)},i={apply:e=>s.post("/leaves/apply",e),getMyLeaves:()=>s.get("/leaves/my-leaves"),getBalance:()=>s.get("/leaves/balance"),getAll:e=>s.get("/leaves/all",{params:{status:e}}),approve:(e,t)=>s.post(`/leaves/${e}/approve`,{remarks:t}),reject:(e,t)=>s.post(`/leaves/${e}/reject`,{rejectionReason:t})}},6205:(e,t,a)=>{"use strict";a.d(t,{t:()=>n});var s=a(114),r=a(5251);let n=(0,s.Ue)()((0,r.tJ)(e=>({user:null,token:null,isAuthenticated:!1,login:(t,a)=>{e({user:t,token:a,isAuthenticated:!0}),localStorage.setItem("token",a)},logout:()=>{e({user:null,token:null,isAuthenticated:!1}),localStorage.removeItem("token")},setUser:t=>e({user:t})}),{name:"auth-store"}))},6724:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l,metadata:()=>n});var s=a(9510);let r=(0,a(8570).createProxy)(String.raw`F:\Hackathon\human_resource_management_system\frontend\components\Navbar.tsx#default`);a(7633);let n={title:"Human Resource Management System (HRMS)",description:"Human Resource Management System - Every workday, perfectly aligned"};function l({children:e}){return s.jsx("html",{lang:"en",children:(0,s.jsxs)("body",{children:[s.jsx(r,{}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8",children:e})]})})}},5305:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(8570).createProxy)(String.raw`F:\Hackathon\human_resource_management_system\frontend\app\leave\page.tsx#default`)},7633:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[781,464],()=>a(2542));module.exports=s})();